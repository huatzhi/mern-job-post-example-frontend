(this.webpackJsonpjob=this.webpackJsonpjob||[]).push([[0],{197:function(e,t,r){},198:function(e,t,r){},203:function(e,t,r){},220:function(e,t,r){},343:function(e,t,r){},344:function(e,t,r){},345:function(e,t,r){},346:function(e,t,r){},347:function(e,t,r){},348:function(e,t,r){},349:function(e,t,r){},350:function(e,t,r){},357:function(e,t,r){},369:function(e,t,r){},371:function(e,t,r){"use strict";r.r(t);var n=r(2),c=r(0),a=r.n(c),s=r(17),o=r.n(s),i=(r(197),r(198),r(34)),l=r(37),j=r(373),u=r(374),b=r(64),d=r(39),p=(r(203),function(){return Object(n.jsxs)(j.a,{gutter:[16,16],type:"flex",justify:"space-around",align:"middle",className:"full-vh",children:[Object(n.jsx)(u.a,{span:11,children:Object(n.jsx)(d.b,{to:"/candidate",children:Object(n.jsx)(b.a,{className:"user-type-button full-screen-row",children:Object(n.jsx)("span",{children:"Candidate"})})})}),Object(n.jsx)(u.a,{span:11,children:Object(n.jsx)(d.b,{to:"/recruiter/login",children:Object(n.jsx)(b.a,{className:"user-type-button full-screen-row",children:Object(n.jsx)("span",{children:"Recruiter"})})})})]})}),O=r(32),h=r(38),x=r.n(h),m=r(52),f=r(125),g=r(380),v=r(191),y=r(379),w=r(90),k=r(381),L=r(382),E=(r(220),r(145)),I=r.n(E),S={api_uri:"http://45.77.246.99:9000"},C=r(76),J={LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGOUT:"LOGOUT"},F=r(129),T=r.n(F),_=T.a.get("auth"),N={token:_&&_.token?_.token:null,name:_&&_.name?_.name:null},D=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case J.LOGIN_SUCCESS:return e=Object(O.a)(Object(O.a)({},t),{},{token:r.token,name:r.name}),T.a.set("auth",e),e;case J.LOGOUT:return e=Object(O.a)(Object(O.a)({},t),{},{token:null,name:null}),T.a.set("auth",e),e;default:return t}},A={SET_JOBS:"SET_JOBS"},P={list:[]},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.SET_JOBS:return Object(O.a)(Object(O.a)({},e),{},{list:t.jobs});default:return e}},B={SHOW_JOB_DETAIL:"SHOW_JOB_DETAIL",HIDE_JOB_DETAIL:"HIDE_JOB_DETAIL"},U={job:{},show:!1},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.SHOW_JOB_DETAIL:return Object(O.a)(Object(O.a)({},e),{},{job:t.job,show:!0});case B.HIDE_JOB_DETAIL:return Object(O.a)(Object(O.a)({},e),{},{show:!1});default:return e}},q=Object(C.c)({auth:D,job:H,jobDetail:G}),R=[r(171).a],K=Object(C.d)(q,C.a.apply(void 0,R));function z(){return K.getState().auth.token}var V={get:function(){var e=Object(m.a)(x.a.mark((function e(t){var r,n,c,a,s=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},n=z(),c={params:r},n&&(c.headers={Authorization:n}),e.next=6,I.a.get("".concat(S.api_uri).concat(t),c);case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),post:function(){var e=Object(m.a)(x.a.mark((function e(t){var r,n,c,a,s=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},n=z(),c={},n&&(c.headers={Authorization:n}),e.next=6,I.a.post("".concat(S.api_uri).concat(t),r,c);case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},W={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},M={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};function Y(e){g.a.success({title:"Registration Success",content:Object(n.jsx)("div",{children:Object(n.jsx)("p",{children:"You can login now."})}),onOk:function(){e.push("/recruiter/login")}})}function Q(e){v.a.error({message:"Registration Error",description:e,placement:"bottomLeft"})}var X=function(){var e=y.a.Item,t=y.a.useForm(),r=Object(f.a)(t,1)[0],c=Object(i.g)(),a=function(){var e=Object(m.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("formData:",t),e.prev=1,e.next=4,V.post("/recruiter/register",t);case 4:r.resetFields(),Y(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.message?Q(e.t0.response.data.message):(Q("Unknown Error"),console.error(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(y.a,Object(O.a)(Object(O.a)({},W),{},{name:"register",form:r,onFinish:a,scrollToFirstError:!0,children:[Object(n.jsx)(e,{name:"name",label:Object(n.jsxs)("span",{children:["Name\xa0",Object(n.jsx)(w.a,{title:"What do you want others to call you?",children:Object(n.jsx)(L.a,{})})]}),rules:[{required:!0,message:"Please input your name!",whitespace:!0}],children:Object(n.jsx)(k.a,{})}),Object(n.jsx)(e,{name:"email",label:"Email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(n.jsx)(k.a,{})}),Object(n.jsx)(e,{name:"password",label:"Password",rules:[{required:!0,min:6,max:30,message:"Password have to be 6-30 characters"}],hasFeedback:!0,children:Object(n.jsx)(k.a.Password,{})}),Object(n.jsx)(e,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,r){return r&&t("password")!==r?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}],children:Object(n.jsx)(k.a.Password,{})}),Object(n.jsx)(e,Object(O.a)(Object(O.a)({},M),{},{children:Object(n.jsx)(b.a,{type:"primary",htmlType:"submit",children:"Register"})})),Object(n.jsx)(j.a,{justify:"center",children:Object(n.jsxs)(u.a,{span:24,children:["Already have an account?"," ",Object(n.jsx)(b.a,{type:"link",children:Object(n.jsx)(d.b,{to:"/recruiter/login",children:"Login Here"})})]})}),Object(n.jsx)(j.a,{justify:"center",children:Object(n.jsx)(u.a,{span:24,children:Object(n.jsx)(b.a,{type:"link",children:Object(n.jsx)(d.b,{to:"/",children:"Back To Home"})})})})]}))},Z=(r(343),function(){return Object(n.jsx)(j.a,{type:"flex",justify:"space-around",align:"middle",className:"full-vh",children:Object(n.jsx)(u.a,{xs:{span:24},sm:{span:12},lg:{span:8},xl:{span:6},children:Object(n.jsx)(X,{})})})}),$=(r(344),function(e,t){return{type:J.LOGIN_SUCCESS,name:e,token:t}}),ee={labelCol:{span:8},wrapperCol:{span:16}},te={wrapperCol:{offset:8,span:16}},re=function(){var e=Object(l.b)(),t=Object(i.g)(),r=function(){var r=Object(m.a)(x.a.mark((function r(c){var a,s,o,i,l;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("Success:",c),r.prev=1,r.next=4,V.post("/recruiter/login",c);case 4:if(a=r.sent,console.log(a.data),a&&a.data&&a.data.name&&a.data.token){r.next=8;break}throw new Error("Unknown error");case 8:s=a.data,o=s.name,i=s.token,e($(o,i)),t.push("/recruiter/job-list"),r.next=18;break;case 13:r.prev=13,r.t0=r.catch(1),l="Unknown Error",r.t0&&r.t0.response&&r.t0.response.data&&r.t0.response.data.message?l=r.t0.response.data.message:console.error("Login error",r.t0),g.a.error({title:"Login Failed",content:Object(n.jsx)("div",{children:Object(n.jsx)("p",{children:l})})});case 18:case"end":return r.stop()}}),r,null,[[1,13]])})));return function(e){return r.apply(this,arguments)}}();return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(y.a,Object(O.a)(Object(O.a)({},ee),{},{name:"Login",initialValues:{remember:!0},onFinish:r,onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(n.jsx)(y.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!"},{type:"email",message:"Must be a valid email address!"}],children:Object(n.jsx)(k.a,{})}),Object(n.jsx)(y.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(n.jsx)(k.a.Password,{})}),Object(n.jsx)(y.a.Item,Object(O.a)(Object(O.a)({},te),{},{children:Object(n.jsx)(b.a,{type:"primary",htmlType:"submit",children:"Login"})})),Object(n.jsx)(j.a,{justify:"center",children:Object(n.jsxs)(u.a,{span:24,children:["Do not have account?"," ",Object(n.jsx)(b.a,{type:"link",children:Object(n.jsx)(d.b,{to:"/recruiter/register",children:"Register Here"})})]})}),Object(n.jsx)(j.a,{justify:"center",children:Object(n.jsx)(u.a,{span:24,children:Object(n.jsx)(b.a,{type:"link",children:Object(n.jsx)(d.b,{to:"/",children:"Back To Home"})})})})]}))})},ne=(r(345),function(){return Object(n.jsx)(j.a,{type:"flex",justify:"space-around",align:"middle",className:"full-vh",children:Object(n.jsx)(u.a,{xs:{span:24},sm:{span:12},lg:{span:8},xl:{span:6},children:Object(n.jsx)(re,{})})})}),ce=r(384),ae=(r(346),function(e){return{type:B.SHOW_JOB_DETAIL,job:e}}),se=r(383),oe=r(375),ie=(r(347),r(348),function(e){var t=e.title,r=e.content;return Object(n.jsxs)("div",{className:"site-description-item-profile-wrapper",children:[t?Object(n.jsxs)("p",{className:"site-description-item-profile-p-label",children:[t,":"]}):null,r]})}),le=function(){var e=Object(l.c)((function(e){return e.jobDetail})),t=e.show,r=e.job,c=Object(l.b)();return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(se.a,{width:640,placement:"right",closable:!0,onClose:function(){c({type:B.HIDE_JOB_DETAIL})},visible:t,children:[Object(n.jsx)("p",{className:"site-description-item-profile-p",style:{marginBottom:24},children:Object(n.jsx)("h2",{children:r.title})}),Object(n.jsxs)(j.a,{children:[Object(n.jsx)(u.a,{span:12,children:Object(n.jsx)(ie,{title:"Recruiter Name",content:r.recruiterName})}),Object(n.jsx)(u.a,{span:12,children:Object(n.jsx)(ie,{title:"Location",content:r.location})})]}),Object(n.jsx)(oe.a,{}),Object(n.jsx)("p",{className:"site-description-item-profile-p",children:"Job Description"}),Object(n.jsx)(j.a,{children:Object(n.jsx)(u.a,{span:24,children:Object(n.jsx)(ie,{content:r.description})})}),Object(n.jsx)(oe.a,{}),Object(n.jsx)(j.a,{children:Object(n.jsx)(u.a,{span:24,children:Object(n.jsx)(ie,{title:"Job Post Date",content:r.createdAt?String(new Date(r.createdAt)):"-"})})})]})})},je=function(){var e=y.a.useForm(),t=Object(f.a)(e,1)[0],r=Object(l.b)(),c=Object(l.c)((function(e){return e.auth})).name,a=function(){var e=Object(m.a)(x.a.mark((function e(r){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("formData",r),e.prev=1,e.next=4,V.post("/job/",r);case 4:t.resetFields(),v.a.success({message:"Job create SUCCESSFUL!",placement:"bottomLeft"}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),n="Unknown Error",e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.message?n=e.t0.response.data.message:console.error("Login error",e.t0),v.a.error({message:"Job creation FAILED!",description:n,placement:"bottomLeft"});case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(y.a,{form:t,name:"create-job",onFinish:a,layout:"vertical",children:[Object(n.jsx)(y.a.Item,{name:"title",label:"Title",rules:[{required:!0,message:"Please input title!"}],children:Object(n.jsx)(k.a,{placeholder:"(e.g. Software Engineer)"})}),Object(n.jsx)(y.a.Item,{name:"location",label:"Location",rules:[{required:!0,message:"Please input location!"}],children:Object(n.jsx)(k.a,{placeholder:"(e.g. New York)"})}),Object(n.jsx)(y.a.Item,{name:"description",label:"Job Description",rules:[{required:!0,message:"Please input description!"}],children:Object(n.jsx)(k.a.TextArea,{placeholder:"Insert your job description here.",rows:20})}),Object(n.jsxs)(ce.b,{size:"middle",children:[Object(n.jsx)(y.a.Item,{children:Object(n.jsx)(b.a,{type:"primary",htmlType:"submit",children:"Submit"})}),Object(n.jsx)(y.a.Item,{children:Object(n.jsx)(b.a,{type:"secondary",onClick:function(){var e=t.getFieldsValue();e.recruiterName=c,r(ae(e))},children:"Preview"})})]})]}),Object(n.jsx)(le,{})]})},ue=(r(349),r(378)),be=(r(350),function(e){var t=e.selectedKey,r=void 0===t?"Create Job":t,c=Object(l.b)(),a=Object(i.g)();return Object(n.jsxs)(ue.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:r,children:[Object(n.jsx)(ue.a.Item,{children:Object(n.jsx)(d.b,{to:"/",children:"Home"})},"Home"),Object(n.jsx)(ue.a.Item,{children:Object(n.jsx)(d.b,{to:"/recruiter/create-job",children:"Create Job"})},"Create Job"),Object(n.jsx)(ue.a.Item,{children:Object(n.jsx)(d.b,{to:"/recruiter/job-list",children:"Job List"})},"Job List"),Object(n.jsx)(ue.a.Item,{style:{float:"right"},onClick:function(){c({type:J.LOGOUT}),a.push("/")},children:"Logout"})]})}),de=r(376),pe=de.a.Header,Oe=de.a.Content,he=de.a.Footer,xe=function(e){var t=e.selectedKey,r=void 0===t?"Create Job":t,c=e.children;return Object(n.jsxs)(de.a,{className:"layout",style:{minHeight:"100vh"},children:[Object(n.jsx)(pe,{children:Object(n.jsx)(be,{selectedKey:r})}),Object(n.jsx)(Oe,{style:{padding:"0 50px"},children:Object(n.jsx)("div",{className:"site-layout-content",children:c})}),Object(n.jsx)(he,{style:{textAlign:"center"},children:"Job App \xa92020 Created by Someone"})]})},me=(r(357),function(){return Object(n.jsx)(xe,{selectedKey:"Create Job",children:Object(n.jsx)(je,{})})}),fe=r(385),ge=r(377),ve=function(e){return{type:A.SET_JOBS,jobs:e}},ye=function(){return function(){var e=Object(m.a)(x.a.mark((function e(t){var r,n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V.get("/recruiter/job");case 3:r=e.sent,n=r.data||[],t(ve(n)),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(0),c="Unknown Error",e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.message?c=e.t0.response.data.message:console.error("Login error",e.t0),v.a.error({message:"Get Recruiter Job Error",description:c,placement:"bottomLeft"}),t(ve([]));case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},we=function(e){var t=e.recruiterList,r=Object(l.c)((function(e){return e.job.list})),c=Object(l.b)(),a=function(e){var t;c((t=e._id,function(){var e=Object(m.a)(x.a.mark((function e(r){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V.post("/job/close",{jobObjId:t});case 3:v.a.success({message:"Job Deleted!",placement:"bottomLeft"}),e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),n="Unknown Error",e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.message?n=e.t0.response.data.message:console.error("Login error",e.t0),v.a.error({message:"Close Job Failed",description:n,placement:"bottomLeft"});case 11:return e.prev=11,r(ye()),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,6,11,14]])})));return function(t){return e.apply(this,arguments)}}()))},s=function(e){var r=[Object(n.jsx)(b.a,{type:"link",onClick:function(){!function(e){c(ae(e))}(e)},children:"View Job"})];return t&&r.push(Object(n.jsx)(fe.a,{title:"Are you sure delete this job?",onConfirm:function(){a(e)},okText:"Yes",cancelText:"No",children:Object(n.jsx)(b.a,{type:"danger",children:"Close"})})),r};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ge.b,{dataSource:r,bordered:!0,renderItem:function(e){return Object(n.jsx)(ge.b.Item,{actions:s(e),children:Object(n.jsx)(ge.b.Item.Meta,{title:e.title,description:"".concat(e.recruiterName||""," - ").concat(e.location||"")})},e.id)}}),Object(n.jsx)(le,{})]})},ke=(r(369),function(){var e=Object(l.b)();return Object(c.useEffect)((function(){e(ye())})),Object(n.jsx)(xe,{selectedKey:"Job List",children:Object(n.jsx)(we,{recruiterList:!0})})}),Le=function(){var e=de.a.Header,t=de.a.Content,r=de.a.Footer,a=Object(l.b)();return Object(c.useEffect)((function(){a(function(){var e=Object(m.a)(x.a.mark((function e(t){var r,n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V.get("/job");case 3:r=e.sent,n=r.data||[],t(ve(n)),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(0),c="Unknown Error",e.t0&&e.t0.response&&e.t0.response.data&&e.t0.response.data.message?c=e.t0.response.data.message:console.error("Login error",e.t0),v.a.error({message:"Get Job Error",description:c,placement:"bottomLeft"}),t(ve([]));case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())})),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(de.a,{className:"layout",style:{minHeight:"100vh"},children:[Object(n.jsx)(e,{children:Object(n.jsxs)(ue.a,{theme:"dark",mode:"horizontal",children:[Object(n.jsx)(ue.a.Item,{children:Object(n.jsx)(d.b,{to:"/",children:"Home"})},"1"),Object(n.jsx)(ue.a.Item,{children:Object(n.jsx)(d.b,{to:"/candidate",children:"Candidate View Job"})},"2")]})}),Object(n.jsx)(t,{style:{padding:"0 50px"},children:Object(n.jsx)("div",{className:"site-layout-content",children:Object(n.jsx)(we,{})})}),Object(n.jsx)(r,{style:{textAlign:"center"},children:"Job App \xa92020 Created by Someone"})]})})};var Ee=function(){var e=Object(l.c)((function(e){return Boolean(e.auth.token)}));return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(i.d,{children:[Object(n.jsx)(i.b,{exact:!0,path:"/",component:p}),Object(n.jsx)(i.b,{path:"/candidate",component:Le}),Object(n.jsx)(i.b,{path:"/recruiter/register",render:function(){return e?Object(n.jsx)(i.a,{to:"/recruiter/job-list"}):Object(n.jsx)(Z,{})}}),Object(n.jsx)(i.b,{path:"/recruiter/login",render:function(){return e?Object(n.jsx)(i.a,{to:"/recruiter/job-list"}):Object(n.jsx)(ne,{})}}),Object(n.jsx)(i.b,{path:"/recruiter/create-job",render:function(){return e?Object(n.jsx)(me,{}):Object(n.jsx)(i.a,{to:"/recruiter/login"})}}),Object(n.jsx)(i.b,{path:"/recruiter/job-list",render:function(){return e?Object(n.jsx)(ke,{}):Object(n.jsx)(i.a,{to:"/recruiter/login"})}}),Object(n.jsx)(i.b,{path:"/",component:function(){return Object(n.jsx)(i.a,{to:"/"})}})]})})},Ie=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,386)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),n(e),c(e),a(e),s(e)}))};r(370);o.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(l.a,{store:K,children:Object(n.jsx)(d.a,{children:Object(n.jsx)(Ee,{})})})}),document.getElementById("root")),Ie()}},[[371,1,2]]]);
//# sourceMappingURL=main.29bb9572.chunk.js.map